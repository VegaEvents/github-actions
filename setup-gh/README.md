# setup-gh

Installs and authenticates the GitHub CLI (`gh`). Useful for self-hosted runners that don't have `gh` pre-installed.

## Usage

```yaml
- uses: VegaEvents/github-actions/setup-gh@v2
  with:
    gh-token: ${{ secrets.GITHUB_TOKEN }}
```

## Inputs

| Input | Required | Default | Description |
|-------|----------|---------|-------------|
| `gh-token` | Yes | - | GitHub token used to authenticate the CLI |

## About `gh-token`

`secrets.GITHUB_TOKEN` is automatically generated by GitHub for every workflow run â€” no one needs to manually create this secret. However, composite actions can't access the caller's secrets implicitly, so the token must be passed explicitly via the `gh-token` input.

You can use either form:

```yaml
gh-token: ${{ secrets.GITHUB_TOKEN }}
# or equivalently
gh-token: ${{ github.token }}
```

## What it does

- Checks if `gh` is already installed (skips installation if so)
- Installs `gh` via the official apt repository (Linux) or Homebrew (macOS)
- Fails with a clear error on unsupported platforms
- Authenticates using the provided token and verifies with `gh auth status`
